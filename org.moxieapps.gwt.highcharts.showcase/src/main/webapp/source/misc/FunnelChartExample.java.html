<html>
<head>
    <link rel='stylesheet' href='../../css/syntax-highlighter.css' type='text/css' />
    <script src='../../js/sh-core.js'></script>
    <script src='../../js/sh-java.js'></script>
</head>
<body>
<textarea name='code' class='java:nogutter' rows='15' cols='120'>
    import com.google.gwt.i18n.client.*;
    import com.google.gwt.core.client.EntryPoint;
    import com.google.gwt.user.client.ui.RootPanel;
    import org.moxieapps.gwt.highcharts.client.*;
    import org.moxieapps.gwt.highcharts.client.labels.*;
    import org.moxieapps.gwt.highcharts.client.plotOptions.*;

    public class FunnelChartExample implements EntryPoint {

        public void onModuleLoad() {
        RootPanel.get().add(createChart());
        }

        @Override
        public Chart createChart() {

            final Chart chart = new Chart();

            chart.setType(Series.Type.FUNNEL)
                .setZoomType(BaseChart.ZoomType.X_AND_Y)
                .setChartTitleText("Sales Funnel")
                .setChartTitle(new ChartTitle()
                .setText("Sales Funnel")
                .setX(-50)
            )
                .setSpacingLeft(100)
                .setSpacingRight(100)
                .setFunnelPlotOptions(
                    new FunnelPlotOptions()
                        .setFunnelDataLabels(new FunnelDataLabels()
                            .setEnabled(true)
                            .setFormat("<b>{point.name}</b> ({point.y:,.0f})")
                            .setColor("black")
                )
                .setNeckWidth("30%")
                .setNeckHeight("25%")
            )
                .setLegend(
                    new Legend()
                        .setEnabled(true)
                )
                .addSeries(chart.createSeries()
                    .setName("Unique users")
                    .setPoints(new Point[]{
                        new Point("Website visits", 15654),
                        new Point("Downloads", 4064),
                        new Point("Requested price list", 1987),
                        new Point("Invoice sent", 976),
                        new Point("Finalized", 846)
                    })
                )
            ;

            return chart;
        }
    }
</textarea>
<script type='text/javascript'>
    dp.SyntaxHighlighter.HighlightAll("code");
</script>
</body>
</html>
