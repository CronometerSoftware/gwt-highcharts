<html>
<head>
    <link rel='stylesheet' href='../../css/syntax-highlighter.css' type='text/css' />
    <script src='../../js/sh-core.js'></script>
    <script src='../../js/sh-java.js'></script>
</head>
<body>
<textarea name='code' class='java:nogutter' rows='15' cols='120'>
    import com.google.gwt.i18n.client.*;
    import com.google.gwt.core.client.EntryPoint;
    import com.google.gwt.user.client.ui.RootPanel;
    import org.moxieapps.gwt.highcharts.client.*;
    import org.moxieapps.gwt.highcharts.client.labels.*;
    import org.moxieapps.gwt.highcharts.client.plotOptions.*;

    public class ChartExample implements EntryPoint {

        public void onModuleLoad() {
            RootPanel.get().add(createChart());
        }

        @Override
        public Chart createChart() {
            final Chart chart = new Chart()
                .setType(Series.Type.COLUMN)
                .setOptions3D(new Options3D()
                    .setEnabled(true)
                    .setAlpha(15)
                    .setBeta(15)
                    .setViewDistance(25)
                    .setDepth(40)
                )
                .setMarginTop(80)
                .setMarginRight(40)
                .setChartTitleText("Total Fruit Consumption, grouped by gender");

            chart.getXAxis()
                .setCategories("Apples", "Oranges", "Pears", "Grapes", "Bananas");

            chart.getYAxis()
                .setAllowDecimals(false)
                .setMin(0)
                .setAxisTitle(new AxisTitle()
                    .setText("Number of Fruits")
                );

            chart.setToolTip(new ToolTip()
                .setHeaderFormat("<b>{point.key}</b><br>")
                .setPointFormat("<span style=\"color:{series.color}\">\\u25CF</span> {series.name}: {point.y} / {point.stackTotal}")
            );

            chart.setColumnPlotOptions(new ColumnPlotOptions()
                .setStacking(PlotOptions.Stacking.NORMAL)
                .setDepth(40)
            );

            chart.addSeries(
                chart.createSeries()
                    .setName("John")
                    .setStack("male")
                    .setPoints(new Number[] {5, 3, 4, 7, 2})
                )
                .addSeries(chart.createSeries()
                    .setName("Joe")
                    .setStack("male")
                    .setPoints(new Number[] {3, 4, 4, 2, 5})
                )
                .addSeries(chart.createSeries()
                    .setName("Jane")
                    .setStack("female")
                    .setPoints(new Number[] {2, 5, 6, 2, 1})
                )
                .addSeries(chart.createSeries()
                    .setName("Janet")
                    .setStack("female")
                    .setPoints(new Number[] {3, 0, 4, 4, 3})
            );

            return chart;
        }
    }
</textarea>
<script type='text/javascript'>
    dp.SyntaxHighlighter.HighlightAll("code");
</script>
</body>
</html>
